{"is_source_file": true, "format": "JavaScript", "description": "This file implements a controller for assessments in a Node.js Express backend, providing endpoints for listing assessments, retrieving individual assessments, submitting answers, and retrieving results. It includes in-memory data structures for assessment definitions and submissions.", "external_files": ["uuid"], "external_methods": ["require('uuid').v4"], "published": ["assessmentsController"], "classes": [{"name": "AssessmentsController", "description": "Controller class handling assessment-related API endpoints, including listing assessments, fetching assessment details, submitting answers, and retrieving results."}], "methods": [{"name": "list(req, res)", "description": "Returns a list of assessment definitions without answer keys.", "scope": "AssessmentsController", "scopeKind": "class"}, {"name": "getById(req, res)", "description": "Retrieves a single assessment definition by ID, excluding correct answers.", "scope": "AssessmentsController", "scopeKind": "class"}, {"name": "submit(req, res)", "description": "Accepts candidate answers for an assessment, grades them, stores the submission, and returns the score and breakdown.", "scope": "AssessmentsController", "scopeKind": "class"}, {"name": "results(req, res)", "description": "Provides aggregated results and visual chart data for a candidate's assessment attempts.", "scope": "AssessmentsController", "scopeKind": "class"}], "calls": ["res.status", "res.json", "mockAssessmentDefinitions.find", "mockAssessments.push", "uuidv4()"], "search-terms": ["assessments", "assessment definitions", "submit assessment", "get assessment", "assessment results", "assessment controller", "in-memory store", "assessment questions"], "state": 2, "file_id": 14, "knowledge_revision": 44, "git_revision": "d67da036a502c76dade6a91002e346f6f078c9aa", "revision_history": [{"29": ""}, {"44": "d67da036a502c76dade6a91002e346f6f078c9aa"}], "ctags": [{"_type": "tag", "name": "AssessmentsController", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^class AssessmentsController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "assessmentsController", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^  assessmentsController: new AssessmentsController(),$/", "language": "JavaScript", "kind": "property", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "chart", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^    const chart = {$/", "language": "JavaScript", "kind": "class", "scope": "AssessmentsController.results", "scopeKind": "class"}, {"_type": "tag", "name": "datasets", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      datasets: [$/", "language": "JavaScript", "kind": "property", "scope": "AssessmentsController.results.chart", "scopeKind": "class"}, {"_type": "tag", "name": "datasets", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      datasets: [$/", "language": "JavaScript", "kind": "property", "scope": "AssessmentsController.results.perQuestion", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      description: found.description,$/", "language": "JavaScript", "kind": "property", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class"}, {"_type": "tag", "name": "durationMinutes", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      durationMinutes: found.durationMinutes,$/", "language": "JavaScript", "kind": "property", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^module.exports = {$/", "language": "JavaScript", "kind": "class", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "getById", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^  getById(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "AssessmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      id,$/", "language": "JavaScript", "kind": "field", "scope": "AssessmentsController.submit.record", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      id: found.id,$/", "language": "JavaScript", "kind": "property", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class"}, {"_type": "tag", "name": "labels", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      labels: ['Correct', 'Wrong'],$/", "language": "JavaScript", "kind": "property", "scope": "AssessmentsController.results.chart", "scopeKind": "class"}, {"_type": "tag", "name": "labels", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      labels: latest.breakdown.map((b) => b.questionId),$/", "language": "JavaScript", "kind": "property", "scope": "AssessmentsController.results.perQuestion", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^  list(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "AssessmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "mockAssessmentDefinitions", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^const mockAssessmentDefinitions = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mockAssessments", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^  mockAssessments,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "mockAssessments", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^const mockAssessments = [];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "perQuestion", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^    const perQuestion = {$/", "language": "JavaScript", "kind": "class", "scope": "AssessmentsController.results", "scopeKind": "class"}, {"_type": "tag", "name": "questions", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      questions: found.questions.map((q) => ({$/", "language": "JavaScript", "kind": "property", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^  results(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "AssessmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "sanitized", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^    const sanitized = {$/", "language": "JavaScript", "kind": "class", "scope": "AssessmentsController.getById", "scopeKind": "class"}, {"_type": "tag", "name": "submit", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^  submit(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "AssessmentsController", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/candidate-match-platform-133245-133255/express_backend/src/controllers/assessments.js", "pattern": "/^      title: found.title,$/", "language": "JavaScript", "kind": "property", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class"}], "hash": "1185c306a2163718ecf64fe813faa544", "format-version": 4, "code-base-name": "express_backend", "filename": "express_backend/src/controllers/assessments.js", "fields": [{"name": "assessmentsController: new AssessmentsController(),", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "datasets: [", "scope": "AssessmentsController.results.chart", "scopeKind": "class", "description": "unavailable"}, {"name": "description: found.description,", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class", "description": "unavailable"}, {"name": "durationMinutes: found.durationMinutes,", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class", "description": "unavailable"}, {"name": "id,", "scope": "AssessmentsController.submit.record", "scopeKind": "class", "description": "unavailable"}, {"name": "id: found.id,", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class", "description": "unavailable"}, {"name": "labels: ['Correct', 'Wrong'],", "scope": "AssessmentsController.results.chart", "scopeKind": "class", "description": "unavailable"}, {"name": "labels: latest.breakdown.map((b) => b.questionId),", "scope": "AssessmentsController.results.perQuestion", "scopeKind": "class", "description": "unavailable"}, {"name": "mockAssessments,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "questions: found.questions.map((q) => ({", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class", "description": "unavailable"}, {"name": "title: found.title,", "scope": "AssessmentsController.getById.sanitized", "scopeKind": "class", "description": "unavailable"}]}